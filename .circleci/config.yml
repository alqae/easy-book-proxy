version: 2.1

workflows:
  build-workflow:
    jobs:
      - runner

jobs:
  runner:
    resource_class: alqae/linode
    machine: true
    steps:
      - checkout
      - run:
          name: Show User Information
          command: |
            pwd  # Verifica el directorio actual
            ls -a  # Verifica los archivos del directorio actual
            whoami  # Verifica el usuario que est√° ejecutando el workflow
            id  # Verifica los grupos a los que pertenece el usuario, incluyendo docker
      - run:
          name: Stop containers
          command: docker compose down
      - run:
          name: Start containers
          command: docker compose up -d
      - run:
          name: Verify containers
          command: docker compose ps
